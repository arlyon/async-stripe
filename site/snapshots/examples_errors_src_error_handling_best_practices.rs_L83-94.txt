# Snapshot of examples/errors/src/error_handling_best_practices.rs
# Lines: 83 - 94
# Dedented: true
# Language: rust
# Generated by: src/components/code-from-file.tsx

let result = RetrievePaymentIntent::new("pi_example").send(client).await;

if let Err(StripeError::Stripe(api_error, status)) = result {
    error!(
        status = status,
        error_type = ?api_error.type_,
        code = ?api_error.code,
        message = ?api_error.message,
        param = ?api_error.param,
        "Stripe error"
    );
}

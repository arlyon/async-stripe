[package]
name = "async-stripe"
version.workspace = true
description.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true
readme.workspace = true
homepage.workspace = true
repository.workspace = true
documentation.workspace = true
keywords.workspace = true
categories.workspace = true
edition.workspace = true

[lib]
name = "stripe"

[dependencies]
hyper = { version = "0.14.28", default-features = false, features = ["http1", "http2", "client", "tcp"] }
hyper-tls = { version = "0.5", optional = true }
hyper-rustls = { version = "0.24", default-features = false, features = ["http1", "http2", "tls12", "logging"], optional = true }
thiserror = "1.0.58"
miniserde.workspace = true
tokio = { version = "1.24.1", features = ["rt", "macros"] }

stripe_shared = { path = "../generated/stripe_shared" }
stripe_client_core = { path = "../stripe_client_core" }

[features]
default = ["default-tls"]

default-tls = ["dep:hyper-tls"]
native-tls = ["default-tls"]
rustls-tls-webpki-roots = ["__rustls", "hyper-rustls/webpki-tokio"]
rustls-tls-native = ["__rustls", "hyper-rustls/native-tokio"]
__rustls = ["dep:hyper-rustls"]

blocking = []
uuid = ["stripe_client_core/uuid"]

[dev-dependencies]
serde.workspace = true
serde_json.workspace = true
httpmock = { version = "0.7.0", default-features = false }


